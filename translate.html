<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Language learning</title>
	<script type="text/javascript" src="jquery-3.6.0.js"></script>
	<style type="text/css">
		body {
			font-family: Georgia;
		}
		#page {
			padding-top: 18%;
		}
		#true {
			color: #009A00;
			font-weight: bold;
		}
		#false {
			color: #A90000;
			font-weight: bold;
		}
		#card {
			background-color: #1C6EA420;
			box-shadow: 8px 8px #1C6EA4;
			width: 35%;
		}

		#invisible {
			color:  transparent;
		}
		#stats {
			padding-top: 20px;
		}
		#nav {
			padding-top: 20px;
			padding-bottom: 20px;
		}
		input {
			background-color: #EAEAEA;
			border-radius: 2px;
			border:  none;
			height: 20px;
		}
		button {
			margin-left: 8px;
			background-color: #EAEAEA;
			border-radius: 2px;
			border:  none;
			height: 20px;
		}
	</style>
</head>
<body>
<div id="page" align="center">
	<div id="card"><br><br><div id="cardTxt">Начать тест</div><br><br></div>
	<div id="nav"></div>
	<div id="field"><form><input type="text" name="word" size="30" id="txt"><button id="next" type="button">OK</button></form></div>
	<table id="stats"><tr><td id="true">Вiрно:<br><span id="t">0</span></td><td id="invisible">this is space, is not it?</td>
	<td id="false">Невiрно:<br><span id="f">0</span></td></tr></table>
</div>
</body>
<script type="text/javascript">

function translation (ukr, eng) {
	this.ukr = ukr;
	this.eng = eng;
	this.check = function (ukrTxt) {
		let isRight = false;
			for (let word of ukr) {
		 		if (word == ukrTxt) {
		 			isRight = true;
				}
			}
		return isRight;
	}
}

var words = [];
words.push(new translation (['студентка', 'студент', 'учень'], 'student'));
words.push(new translation (['взяти', 'беручи', 'брати', 'прийняти', 'приймати', 'прийматися', 'взяття', 'збір', 'захоплення'], 'take'));
words.push(new translation (['отримати', 'одержати', 'отримувати', 'одержувати'], 'receive'));
words.push(new translation (['заробляти', 'заробити', 'заслужити', 'отримувати'], 'earn'));
words.push(new translation (['красти', 'украсти', 'вкрадена річ', ' прослизнути', 'крадіжка', 'майно'], 'steal'));
words.push(new translation (['таємниця', 'секрет', 'по секрету', 'таємний', 'секретний', 'негласний'], 'secret'));
words.push(new translation (['відкритий', 'розкритися', 'розкрити', 'відкрито', 'відкривати', 'отвір', 'доступний', 'відвертий', 'м\'який'], 'open'));
words.push(new translation (['покриття', 'покрив', 'покрити', 'прикрити', 'охоплювати', 'покривати', 'кришка', 'обкладинка', 'чохол'], 'cover'));
words.push(new translation (['з\'ясувавши', 'дізнатися', 'з\'ясовувати', 'довідатися', 'вивідати', 'дізнаватися', ' допитуватися'], 'find out'));
words.push(new translation (['ховати', 'приховувати ', 'приховати', 'сховати', 'ховатися', 'схованка', 'шкура', 'шкура', 'шкура'], 'hide'));
words.push(new translation (['появляться', 'з\'являтися', 'з\'явитися', 'фігурувати', 'видаватися', 'постати'], 'appear'));
words.push(new translation (['зовнішність', 'зовнішній вигляд', 'вигляд', 'поява'], 'appearance'));
words.push(new translation (['пригода', 'пригод', 'авантюра', 'ризикувати'], 'adventure'));
words.push(new translation (['нещастя', 'напасть', 'біда'], 'misfortune'));
words.push(new translation (['знаменитість', 'популярність', 'слава'], 'celebrity'));
words.push(new translation (['айстра'], 'aster'));
words.push(new translation (['катастрофа', 'лихо', 'біда'], 'disaster'));
words.push(new translation (['відчутний', 'відчутний', 'матеріальний', 'видимий', 'який можна осягнути', 'відчутний факт', 'реальність'], 'tangible'));
words.push(new translation (['фінансовий'], 'financial'));
words.push(new translation (['вимірний'], 'measurable'));
words.push(new translation (['золото', 'колір золота', 'багатство'], 'gold'));
//console.log(words);
function test () {
	this.right = 0;
	this.wrong = 0;
	this.generate = function () {
		let q = [];
		for (let i=0; i<10; i++) {
			let n = Math.floor(Math.random()*21);
			let contains = false;
			for (let x of q) {
				if(n == x) {
					contains = true;
				}
			}
			if(contains) {
				i--;
				continue;
			}
			else {
				q[i] = n;
			}
		}
		console.log(q);
		let quest = [];
		for (let i=0; i<10; i++) {
			quest[i] = words[q[i]];
		}
		return quest;
	}
}
var lArr = document.createElement('span');
var rArr = document.createElement('span');
lArr.innerHTML = '⇠';
rArr.innerHTML = '⇢';

$('#card').click(async function () {
	let x = new test();
	let answ = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0];
	let questions = x.generate();
	$('#nav').append(lArr, '  <span id="num">1</span>/10  ', rArr);
	$(lArr).css('color', 'gray');
	let qn = 0;
	$('#cardTxt').text(questions[qn].eng);
	$('#num').text(qn+1);
	$('#next').click(function () {
		let w = $('#txt').val().toString();
		w = w.replace(/^\s+(.*)\s+$/uig, '$1');
		answ[qn] = Number(questions[qn].check(w));
		tp = answ.reduce((a, b) => a + b, 0);
		$('#t').text(tp);
		fp = qn - tp + 1;
		$('#f').text(fp);
		if (qn > 0) {
			console.log(qn);
			$(lArr).css('color', 'black');
			$(lArr).click(function () {
				qn--;
				$('#cardTxt').text(questions[qn].eng);
				$('#num').text(qn+1);
				$("#txt").val('');
			});
		}

		if (qn < 10) {
			$(rArr).css('color', 'black');
			qn++;
			$('#cardTxt').text(questions[qn].eng);
			$('#num').text(qn+1);
			$("#txt").val('');
			$(rArr).click(function () {
				qn++;
				$('#cardTxt').text(questions[qn].eng);
				$('#num').text(qn+1);
				$("#txt").val('');
			});
		}
		else {
			$(rArr).css('color', 'gray');
			//вывести модальное окно
		}
	});
});

</script>
</html>
